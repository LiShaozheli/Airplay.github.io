window.__require=function t(e,i,n){function o(c,l){if(!i[c]){if(!e[c]){var h=c.split("/");if(h=h[h.length-1],!e[h]){var a="function"==typeof __require&&__require;if(!l&&a)return a(h,!0);if(s)return s(h,!0);throw new Error("Cannot find module '"+c+"'")}c=h}var u=i[c]={exports:{}};e[c][0].call(u.exports,function(t){return o(e[c][1][t]||t)},u,u.exports,t,e,i,n)}return i[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<n.length;c++)o(n[c]);return o}({Player:[function(t,e,i){"use strict";cc._RF.push(e,"fa1d2/39DtISJXqfISU/MDj","Player"),cc.Class({extends:cc.Component,properties:{Rocker:{type:t("Rocker"),default:null},lifeDisplay:{default:null,type:cc.Label},attack:{type:cc.Node,default:null},scene:"gameover",speed:100,life:100},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.maxX=this.node.parent.width/2,this.maxY=this.node.parent.height/2,this.rdx=0,this.rdy=1},start:function(){},update:function(t){if(!(this.Rocker.dir.mag()<.5)){this.rdx=this.Rocker.dir.x,this.rdy=this.Rocker.dir.y;var e=this.Rocker.dir.x*this.speed*t,i=this.Rocker.dir.y*this.speed*t;this.node.x>=this.maxX?this.node.x=this.maxX:this.node.x+=e,this.node.x<=-this.maxX?this.node.x=-this.maxX:this.node.x+=e,this.node.y>=this.maxY?this.node.y=this.maxY:this.node.y+=i,this.node.y<=-this.maxY?this.node.y=-this.maxY:this.node.y+=i;var n=180*Math.atan2(this.Rocker.dir.y,this.Rocker.dir.x)/Math.PI;n=360-n+90,this.node.rotation=n}},gainlife:function(t){this.life-=t,this.lifeDisplay.string="\u751f\u547d : "+this.life,this.life<=0&&cc.director.loadScene(this.scene)},bulletspeed:function(){Global.speed=500,Global.time=.5},Playerspeed:function(){this.speed=100},onCollisionEnter:function(t,e){"bullet_2"===t.node.name&&this.gainlife(1),"enemy"===t.node.name&&this.gainlife(10),"buff_life"===t.node.name&&(this.life+=10,this.life>200&&(this.life=200),this.lifeDisplay.string="\u751f\u547d : "+this.life),"buff_speed"===t.node.name&&(this.unschedule(this.Playerspeed),this.speed=200,this.scheduleOnce(this.Playerspeed,10)),"buff_bullet"===t.node.name&&(this.unschedule(this.bulletspeed),Global.speed=1e3,Global.time=.2,this.scheduleOnce(this.bulletspeed,10))}}),cc._RF.pop()},{Rocker:"Rocker"}],Rocker:[function(t,e,i){"use strict";cc._RF.push(e,"cb993yLeg9H7atn01JEx8ZN","Rocker"),cc.Class({extends:cc.Component,properties:{Rocker:{type:cc.Node,default:null},Max_r:100},onLoad:function(){this.Rocker.x=0,this.Rocker.y=0,this.dir=cc.v2(0,0)},start:function(){this.Rocker.on(cc.Node.EventType.TOUCH_START,function(t){},this),this.Rocker.on(cc.Node.EventType.TOUCH_MOVE,function(t){var e=t.getLocation(),i=this.node.convertToNodeSpaceAR(e),n=i.mag();this.dir.x=i.x/n,this.dir.y=i.y/n,n>this.Max_r&&(i.x=this.Max_r*i.x/n,i.y=this.Max_r*i.y/n),this.Rocker.setPosition(i)},this),this.Rocker.on(cc.Node.EventType.TOUCH_END,function(t){this.Rocker.setPosition(cc.v2(0,0)),this.dir=cc.v2(0,0)},this),this.Rocker.on(cc.Node.EventType.TOUCH_CANCEL,function(t){this.Rocker.setPosition(cc.v2(0,0)),this.dir=cc.v2(0,0)},this)}}),cc._RF.pop()},{}],attack:[function(t,e,i){"use strict";cc._RF.push(e,"96256U4gHhDuaE/JZ+H7Qbl","attack"),window.Global={speed:500,time:.5},cc.Class({extends:cc.Component,properties:{bullet:{default:null,type:cc.Prefab},background:{default:null,type:cc.Node},Player:{default:null,type:cc.Node},shotAudio:{default:null,type:cc.AudioClip}},onLoad:function(){this.bulletPool=new cc.NodePool,Global.speed=500,Global.time=.5},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){this.createbullet()},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){this.unschedule(this.createbullet)},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){this.unschedule(this.createbullet)},this)},createbullet:function(){var t=null;(t=this.bulletPool.size()>0?this.bulletPool.get():cc.instantiate(this.bullet)).parent=this.background,t.rotation=this.Player.rotation,t.position=this.Player.position,t.getComponent("bullet").attack=this,t.getComponent("bullet").init(),cc.audioEngine.playEffect(this.shotAudio,!1),this.schedule(this.createbullet,Global.time)},onbulletKilled:function(t){this.bulletPool.put(t)}}),cc._RF.pop()},{}],background:[function(t,e,i){"use strict";cc._RF.push(e,"77df0NkgQpKo7eYRSFYg+bH","background"),window.Global={score:0},cc.Class({extends:cc.Component,properties:{Player:{default:null,type:cc.Node},enemy:{default:null,type:cc.Prefab},enemyBullet:{default:null,type:cc.Prefab},scoreDisplay:{default:null,type:cc.Label},buffLife:{default:null,type:cc.Prefab},buffSpeed:{default:null,type:cc.Prefab},buffBullet:{default:null,type:cc.Prefab}},onLoad:function(){Global.score=0,this.enemyPool=new cc.NodePool,this.buffLifePool=new cc.NodePool,this.buffSpeedPool=new cc.NodePool,this.buffBulletPool=new cc.NodePool;for(var t=0;t<10;++t)this.createEnemy(this.node)},start:function(){for(var t=0;t<3;t++)this.createBuff(this.buffLifePool,this.buffLife),this.createBuff(this.buffSpeedPool,this.buffSpeed),this.createBuff(this.buffBulletPool,this.buffBullet)},update:function(t){this.node.x=-this.Player.x,this.node.y=-this.Player.y},createEnemy:function(t){var e=null;(e=this.enemyPool.size()>0?this.enemyPool.get():cc.instantiate(this.enemy)).parent=t,e.getComponent("enemy").background=this,e.getComponent("enemy").init()},onEnemyKilled:function(t){this.enemyPool.put(t)},createBuff:function(t,e){var i=null;(i=t.size()>0?t.get():cc.instantiate(e)).parent=this.node,i.getComponent("buff").background=this,i.getComponent("buff").pools=t,i.getComponent("buff").init()},onBuffKilled:function(t,e){t.put(e)},gainScore:function(){Global.score+=10,this.scoreDisplay.string="\u5f97\u5206 : "+Global.score}}),cc._RF.pop()},{}],began:[function(t,e,i){"use strict";cc._RF.push(e,"df844VbpRJDfqfwOhjC7da7","began"),cc.Class({extends:cc.Component,properties:{},start:function(){},toScene:function(){cc.director.loadScene("game")}}),cc._RF.pop()},{}],buff:[function(t,e,i){"use strict";cc._RF.push(e,"76b496QlrpA3atV1bDnQrcT","buff"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.maxX=this.node.parent.width/2,this.maxY=this.node.parent.height/2,this.time=0},start:function(){this.schedule(this.updatenode,this.time)},init:function(){var t=2*(Math.random()-.5)*this.maxX,e=2*(Math.random()-.5)*this.maxY;this.node.setPosition(cc.v2(t,e)),this.time=5*Math.random()+5},updatenode:function(){this.background.createBuff(this.pools,this.node),this.background.onBuffKilled(this.pools,this.node)},onCollisionEnter:function(t,e){this.background.createBuff(this.pools,this.node),this.background.onBuffKilled(this.pools,this.node)}}),cc._RF.pop()},{}],bullet:[function(t,e,i){"use strict";cc._RF.push(e,"b8a786uMBRPSZ0v+1CUdeYA","bullet"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.bulletsx=0,this.bulletsy=0,this.maxX=this.node.parent.width/2,this.maxY=this.node.parent.height/2},start:function(){this.init()},update:function(t){this.node.x+=this.bulletsx*t,this.node.y+=this.bulletsy*t,(this.node.x>this.maxX||this.node.x<-this.maxX||this.node.y>this.maxY||this.node.y<-this.maxY)&&this.attack.onbulletKilled(this.node)},init:function(){var t=this.node.rotation*Math.PI/180,e=Math.cos(t),i=Math.sin(t);this.bulletsx=i*Global.speed,this.bulletsy=e*Global.speed},onCollisionEnter:function(t,e){this.attack.onbulletKilled(this.node)}}),cc._RF.pop()},{}],enemyBullet:[function(t,e,i){"use strict";cc._RF.push(e,"24862kJpaVOXac8kVEb/0vE","enemyBullet"),cc.Class({extends:cc.Component,properties:{enemyShotAudio:{default:null,type:cc.AudioClip},speed:0},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.bulletsx=0,this.bulletsy=0,this.maxX=this.node.parent.width/2,this.maxY=this.node.parent.height/2},start:function(){},update:function(t){this.node.x+=this.bulletsx*t,this.node.y+=this.bulletsy*t,(this.node.x>this.maxX||this.node.x<-this.maxX||this.node.y>this.maxY||this.node.y<-this.maxY)&&this.enemy.onEnemyBulletKilled(this.node)},init:function(){var t=this.node.rotation*Math.PI/180,e=Math.cos(t),i=Math.sin(t);this.bulletsx=i*this.speed,this.bulletsy=e*this.speed},onCollisionEnter:function(t,e){this.enemy.onEnemyBulletKilled(this.node),cc.audioEngine.playEffect(this.enemyShotAudio,!1)}}),cc._RF.pop()},{}],enemy:[function(t,e,i){"use strict";cc._RF.push(e,"616ab6pH/RC7rSNt1CyfJyv","enemy"),cc.Class({extends:cc.Component,properties:{meteorilAudio:{default:null,type:cc.AudioClip},speed:60},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.EnemyBulletPool=new cc.NodePool,this.enemysx=0,this.enemysy=0,this.maxX=this.node.parent.width/2,this.maxY=this.node.parent.height/2},start:function(){this.schedule(this.setRotations,5),this.schedule(this.createEnemyBullet,.5)},update:function(t){this.node.x+=this.enemysx*t,this.node.y+=this.enemysy*t,(this.node.x>this.maxX||this.node.x<-this.maxX||this.node.y>this.maxY||this.node.y<-this.maxY)&&(this.background.createEnemy(this.background.node),this.background.onEnemyKilled(this.node))},init:function(){this.node.setPosition(this.getNewEnemyPosition()),this.setRotations()},setRotations:function(){this.node.rotation=360*Math.random();var t=this.node.rotation*Math.PI/180,e=Math.cos(t),i=Math.sin(t);this.enemysx=i*this.speed,this.enemysy=e*this.speed},createEnemyBullet:function(){var t=null;(t=this.EnemyBulletPool.size()>0?this.EnemyBulletPool.get():cc.instantiate(this.background.enemyBullet)).parent=this.background.node,t.rotation=this.node.rotation,t.position=this.node.position,t.getComponent("enemyBullet").enemy=this,t.getComponent("enemyBullet").init()},onEnemyBulletKilled:function(t){this.EnemyBulletPool.put(t)},getNewEnemyPosition:function(){var t=2*(Math.random()-.5)*this.maxX,e=2*(Math.random()-.5)*this.maxY;return cc.v2(t,e)},onCollisionEnter:function(t,e){this.background.createEnemy(this.background.node),this.background.gainScore(),this.background.onEnemyKilled(this.node),cc.audioEngine.playEffect(this.meteorilAudio,!1)}}),cc._RF.pop()},{}],return:[function(t,e,i){"use strict";cc._RF.push(e,"e8dcd4vO/ZP26KSSov1Qkzs","return"),cc.Class({extends:cc.Component,properties:{},start:function(){},toScene:function(){cc.director.loadScene("began")}}),cc._RF.pop()},{}],score:[function(t,e,i){"use strict";cc._RF.push(e,"25a026RfM1CMrZ2Tbd5GjnB","score"),cc.Class({extends:cc.Component,properties:{scoreDisplay:{default:null,type:cc.Label}},onLoad:function(){},start:function(){this.scoreDisplay.string="\u4f60\u7684\u5f97\u5206 : "+Global.score}}),cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(t,e,i){"use strict";cc._RF.push(e,"58917d96QJI8o8xb1zfJzhE","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["use_v2.0.x_cc.Toggle_event","Player","Rocker","attack","background","began","buff","bullet","enemy","enemyBullet","return","score"]);